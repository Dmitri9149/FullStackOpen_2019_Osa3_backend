{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","_ref","heading","value","onChange","react_default","a","createElement","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","person","onClick","name","number","Persons","personsToShow","map","components_Person","key","id","baseUrl","services_persons","axios","get","newObject","post","put","concat","delete","Notification","message","messageClass","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","newFilter","setNewFilter","_useState9","_useState10","notify","setNotify","useEffect","console","log","personService","then","response","data","length","numberUpdate","personObject","window","confirm","setTimeout","catch","error","newPersons","filter","toLowerCase","startsWith","App_Notification","components_Filter","event","target","components_PersonForm","preventDefault","isItNewName","indexOf","indexOfName","components_Persons","find","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.fde1d79e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ heading, value, onChange }) => {\r\n    return (\r\n        <div>\r\n            {heading}\r\n            <input \r\n            value = {value}\r\n            onChange = {onChange}\r\n            />\r\n        </div>\r\n    )\r\n  }\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, \r\n  handleNameChange, newNumber, handleNumberChange}) => {\r\n  return (\r\n    <form onSubmit = {addPerson}>\r\n      <div>\r\n        nimi: \r\n        <input\r\n          value ={newName}\r\n          onChange = {handleNameChange}\r\n        />\r\n      </div><br/>\r\n      <div>\r\n        numero:\r\n        <input\r\n          value ={newNumber}\r\n          onChange = {handleNumberChange}\r\n        />\r\n      </div><br/>\r\n      <div>\r\n        <button type=\"submit\">lisää</button>\r\n      </div>\r\n    </form>\r\n  )    \r\n}\r\n\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, onClick }) => {\r\n  return (\r\n\r\n    <tr>\r\n      <td>\r\n        {person.name}\r\n      </td>\r\n      <td>\r\n        {person.number}\r\n      </td>\r\n      <td>\r\n        <button onClick={onClick}>poista</button>\r\n      </td>\r\n    </tr>\r\n\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from \"./Person\"\r\n\r\nconst Persons = ({personsToShow, onClick}) => personsToShow.map(person =>\r\n  <Person\r\n    key = {person.id}\r\n    person={person}\r\n    onClick = {onClick(person.id)}\r\n  />\r\n)\r\n\r\n\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst del = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update, \r\n  del: del\r\n}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from \"./components/PersonForm\"\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\nconst Notification = ({ message, messageClass }) => {\n  if (message === '') {\n    return null\n  }\n  return (\n    <div className = {messageClass}>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [newFilter, setNewFilter] = useState(\"\")\n  const [notify, setNotify] = useState({message:\"\", messageClass:\"nothing\"})\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response.data)\n\n      })\n  }, [])\n\n  console.log('render', persons.length, 'persons') \n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const arrayOfNames = persons.map(person => person.name)\n    const isItNewName = arrayOfNames.indexOf(newName)\n    const personObject = {\n      name: newName,\n      number:newNumber \n    }\n\n    if (isItNewName < 0) {\n      console.log(isItNewName)\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNotify(\n            {message:`Lisatiin \"${newName}\" `, messageClass:\"added\"\n            })\n          setTimeout(() => {\n            setNotify({message:\"\", messageClass:\"nothing\"})\n          }, 1000)                   \n          setNewName('')\n          setNewNumber(\"\")\n      })    \n\n    } else {\n//      window.alert(`${newName} on jo luettelossa`);\n\n        \n        const indexOfName = persons[isItNewName].id\n        console.log(indexOfName)\n        numberUpdate(indexOfName, personObject)\n    }\n  }\n\n  const deletePerson = (id) => {\n    return () => {\n      const person = persons.find(person => person.id === id)\n      if (window.confirm(`Poistetaanko   \"${person.name}\"  ?`)) {\n        personService\n        .del(id)\n        .then(response => {\n          console.log(response)\n          const newPersons = persons.filter(person => person.id !== id)\n          setPersons(newPersons)\n\n          setNotify(\n            {message:`\"${person.name}\" on poistettu`, messageClass:\"eliminated\"\n            })\n          setTimeout(() => {\n            setNotify({message:\"\", messageClass:\"nothing\"})\n          }, 1000)                   \n        })\n\n      }\n    }\n  }\n\n  const numberUpdate = (id, personObject) => {\n    if (window.confirm(`\"${personObject.name}\"   on jo luettelossa, korvaatanko vanha numero uudella ?`)){\n      personService\n        .update(id, personObject)\n        .then(response => {\n          console.log(response, \"in numberUpdate\")\n          setPersons(persons.map(person => person.id !== id ? person : response.data))\n\n          setNotify(\n            {message:`\"${newName}\" phone numero muutetaan`, messageClass:\"changed\"\n            })\n          setTimeout(() => {\n            setNotify({message:\"\", messageClass:\"nothing\"})\n          }, 1000)                   \n          setNewName(\"\")\n          setNewNumber(\"\")\n        })\n        .catch(error=> {\n          const newPersons = persons.filter(person => person.id !== id)\n          setPersons(newPersons)\n          setNotify(\n            {message:`Henkilön \"${newName}\" oli jo poistettu`, messageClass:\"error\"\n            })\n          setTimeout(() => {\n            setNotify({message:\"\", messageClass:\"nothing\"})\n          }, 1000)  \n          setNewName('')\n          setNewNumber(\"\")                 \n        })\n    }  \n  }  \n  \n      \n  \n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handlePersonFilter = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n\n  const personsToShow =  newFilter === \"\"\n  ? persons\n  : persons.filter(person => person.name.toLowerCase().startsWith(newFilter.toLowerCase()));\n\n \n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n        <Notification \n          message = {notify.message}\n          messageClass = {notify.messageClass}\n        />\n\n      <Filter\n        heading = \" rajaa näytettäviä:\"\n        value = {newFilter}\n        onChange = {handlePersonFilter} \n      /><br/>\n      <h3>lisää uusi</h3>   \n      <PersonForm\n        addPerson = {addPerson}\n        newName = {newName}\n        handleNameChange = {handleNameChange}\n        newNumber = {newNumber}\n        handleNumberChange = {handleNumberChange}        \n      />    \n      <h2>Numerot</h2>\n          <table>\n            <tbody>\n            <Persons \n              personsToShow = {personsToShow}\n              onClick={deletePerson}\n            />  \n            </tbody>\n          </table>\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\n\nReactDOM.render(\n  <App  />,\n  document.getElementById('root')\n)"],"sourceRoot":""}