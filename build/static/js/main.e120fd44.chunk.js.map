{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","_ref","heading","value","onChange","react_default","a","createElement","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","person","onClick","name","number","Persons","personsToShow","map","components_Person","key","id","baseUrl","services_persons","axios","get","then","response","data","newObject","post","put","concat","delete","Notification","message","messageClass","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","newFilter","setNewFilter","_useState9","_useState10","notify","setNotify","useEffect","console","log","personService","length","numberUpdate","personObject","window","confirm","setTimeout","catch","error","newPersons","filter","toLowerCase","startsWith","App_Notification","components_Filter","event","target","components_PersonForm","preventDefault","isItNewName","indexOf","indexOfName","components_Persons","find","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.e120fd44.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ heading, value, onChange }) => {\r\n    return (\r\n        <div>\r\n            {heading}\r\n            <input \r\n            value = {value}\r\n            onChange = {onChange}\r\n            />\r\n        </div>\r\n    )\r\n  }\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, \r\n  handleNameChange, newNumber, handleNumberChange}) => {\r\n  return (\r\n    <form onSubmit = {addPerson}>\r\n      <div>\r\n        nimi: \r\n        <input\r\n          value ={newName}\r\n          onChange = {handleNameChange}\r\n        />\r\n      </div><br/>\r\n      <div>\r\n        numero:\r\n        <input\r\n          value ={newNumber}\r\n          onChange = {handleNumberChange}\r\n        />\r\n      </div><br/>\r\n      <div>\r\n        <button type=\"submit\">lisää</button>\r\n      </div>\r\n    </form>\r\n  )    \r\n}\r\n\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, onClick }) => {\r\n  return (\r\n\r\n    <tr>\r\n      <td>\r\n        {person.name}\r\n      </td>\r\n      <td>\r\n        {person.number}\r\n      </td>\r\n      <td>\r\n        <button onClick={onClick}>poista</button>\r\n      </td>\r\n    </tr>\r\n\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from \"./Person\"\r\n\r\nconst Persons = ({personsToShow, onClick}) => personsToShow.map(person =>\r\n  <Person\r\n    key = {person.id}\r\n    person={person}\r\n    onClick = {onClick(person.id)}\r\n  />\r\n)\r\n\r\n\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const promise =  axios.get(baseUrl)\r\n  return promise.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const promise = axios.post(baseUrl, newObject)\r\n  return promise.then(response => response.data)\r\n\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const promise = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return promise.then(response => response.data)\r\n}\r\n\r\nconst del = (id) => {\r\n  const promise = axios.delete(`${baseUrl}/${id}`)\r\n  return promise.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update, \r\n  del: del\r\n}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from \"./components/PersonForm\"\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\nconst Notification = ({ message, messageClass }) => {\n  if (message === '') {\n    return null\n  }\n  return (\n    <div className = {messageClass}>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [newFilter, setNewFilter] = useState(\"\")\n  const [notify, setNotify] = useState({message:\"\", messageClass:\"nothing\"})\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(data => {\n        console.log('promise fulfilled')\n        setPersons(data)\n\n      })\n  }, [])\n\n  console.log('render', persons.length, 'persons') \n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const arrayOfNames = persons.map(person => person.name)\n    const isItNewName = arrayOfNames.indexOf(newName)\n    const personObject = {\n      name: newName,\n      number:newNumber \n    }\n\n    if (isItNewName < 0) {\n      console.log(isItNewName)\n      personService\n        .create(personObject)\n        .then(data => {\n          setPersons(persons.concat(data))\n          setNotify(\n            {message:`Lisatiin \"${newName}\" `, messageClass:\"added\"\n            })\n          setTimeout(() => {\n            setNotify({message:\"\", messageClass:\"nothing\"})\n          }, 1000)                   \n          setNewName('')\n          setNewNumber(\"\")\n        })\n        .catch(error => {\n          // pääset käsiksi palvelimen palauttamaan virheilmoitusolioon näin\n          console.log(error)    \n        })\n    } else {\n\n\n        \n        const indexOfName = persons[isItNewName].id\n        console.log(indexOfName)\n        numberUpdate(indexOfName, personObject)\n    }\n  }\n\n  const deletePerson = (id) => {\n    return () => {\n      const person = persons.find(person => person.id === id)\n      if (window.confirm(`Poistetaanko   \"${person.name}\"  ?`)) {\n        personService\n        .del(id)\n        .then(data => {\n          console.log(data)\n          const newPersons = persons.filter(person => person.id !== id)\n          setPersons(newPersons)\n\n          setNotify(\n            {message:`\"${person.name}\" on poistettu`, messageClass:\"eliminated\"\n            })\n          setTimeout(() => {\n            setNotify({message:\"\", messageClass:\"nothing\"})\n          }, 1000)                   \n        })\n\n      }\n    }\n  }\n\n  const numberUpdate = (id, personObject) => {\n    if (window.confirm(`\"${personObject.name}\"   on jo luettelossa, korvaatanko vanha numero uudella ?`)){\n      personService\n        .update(id, personObject)\n        .then(data => {\n          console.log(data, \"in numberUpdate\")\n          setPersons(persons.map(person => person.id !== id ? person : data))\n\n          setNotify(\n            {message:`\"${newName}\" phone numero muutetaan`, messageClass:\"changed\"\n            })\n          setTimeout(() => {\n            setNotify({message:\"\", messageClass:\"nothing\"})\n          }, 1000)                   \n          setNewName(\"\")\n          setNewNumber(\"\")\n        })\n        .catch(error=> \n          {\n            console.log(\"error  = \" , error )\n            const newPersons = persons.filter(person => person.id !== id)\n            setPersons(newPersons)\n            setNotify(\n              {message:`Henkilön \"${newName}\" oli jo poistettu`, messageClass:\"error\"\n              })\n            setTimeout(() => {\n              setNotify({message:\"\", messageClass:\"nothing\"})\n            }, 1000)  \n            setNewName('')\n            setNewNumber(\"\")\n                           \n        })\n    }  \n  }  \n  \n      \n  \n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handlePersonFilter = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n\n  const personsToShow =  newFilter === \"\"\n  ? persons\n  : persons.filter(person => person.name.toLowerCase().startsWith(newFilter.toLowerCase()));\n\n \n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n        <Notification \n          message = {notify.message}\n          messageClass = {notify.messageClass}\n        />\n\n      <Filter\n        heading = \" rajaa näytettäviä:\"\n        value = {newFilter}\n        onChange = {handlePersonFilter} \n      /><br/>\n      <h3>lisää uusi</h3>   \n      <PersonForm\n        addPerson = {addPerson}\n        newName = {newName}\n        handleNameChange = {handleNameChange}\n        newNumber = {newNumber}\n        handleNumberChange = {handleNumberChange}        \n      />    \n      <h2>Numerot</h2>\n          <table>\n            <tbody>\n            <Persons \n              personsToShow = {personsToShow}\n              onClick={deletePerson}\n            />  \n            </tbody>\n          </table>\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\n\nReactDOM.render(\n  <App  />,\n  document.getElementById('root')\n)"],"sourceRoot":""}